<div class="container">
  <form class="frm" [formGroup]="personForm" (ngSubmit)="onSubmit()">
    <mat-form-field [appearance]="'fill'">
      <mat-label>Name</mat-label>
      <input
        matInput
        type="text"
        formControlName="firstName"
        placeholder="Name"
      />
      <mat-error *ngIf="personForm.controls['firstName'].errors?.['required']"
        >Name is required!
      </mat-error>
    </mat-form-field>
    <mat-form-field [appearance]="'fill'">
      <mat-label>Last Name</mat-label>
      <input
        matInput
        type="text"
        formControlName="lastName"
        placeholder="Last Name"
      />
      <mat-error *ngIf="personForm.controls['lastName'].errors?.['required']"
        >Last Name is required!
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Выберите дату рождения</mat-label>
      <input matInput [matDatepicker]="picker" formControlName="dateOfBirth" />
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
      <mat-error *ngIf="personForm.controls['dateOfBirth'].errors?.['required']"
        >An email is required!
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Select framework</mat-label>
      <mat-select
        formControlName="framework"
        (selectionChange)="onFrameworkChange()"
      >
        <mat-option *ngFor="let f of frameworks" [value]="f">{{
          f
        }}</mat-option>
      </mat-select>
      <mat-error *ngIf="personForm.controls['framework'].errors?.['required']"
        >An framework is required!
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Select an frameworkVersion</mat-label>
      <mat-select
        formControlName="frameworkVersion"
        [disabled]="frameworkVersions.length == 0"
      >
        <mat-option *ngFor="let v of frameworkVersions" [value]="v">{{
          v
        }}</mat-option>
      </mat-select>
      <mat-error
        *ngIf="personForm.controls['frameworkVersion'].errors?.['required']"
        >An framework version is required!
      </mat-error>
    </mat-form-field>
    <mat-form-field [appearance]="'fill'">
      <mat-label>Email</mat-label>
      <input
        matInput
        formControlName="email"
        placeholder="Enter your email..."
      />
      <mat-error *ngIf="personForm.controls['email'].errors?.['required']"
        >An email is required!
      </mat-error>
      <mat-error *ngIf="personForm.controls['email'].errors?.['emailExists']"
        >Email already exists!
      </mat-error>
      <mat-error *ngIf="personForm.controls['email'].errors?.['email']"
        >Please enter a valid email!
      </mat-error>
      <mat-progress-spinner
        *ngIf="personForm.controls['email'].pending"
        matSuffix
        [mode]="'indeterminate'"
        [diameter]="20"
      ></mat-progress-spinner>
    </mat-form-field>
    <div class="form__hobby">
      <div class="hby">
        <mat-form-field class="example-full-width" appearance="fill">
          <mat-label>Hobby</mat-label>
          <input matInput type="text" placeholder="Hobby" formControlName="" />
        </mat-form-field>
      </div>
      <div class="hby">
        <mat-form-field appearance="fill">
          <mat-label>Duration</mat-label>
          <mat-select formControlName="">
            <mat-option *ngFor="let m of month" [value]="m">{{
              m + " month"
            }}</mat-option>
          </mat-select>

          <!-- <mat-error
          *ngIf="personForm.controls['frameworkVersion'].errors?.['required']"
          >An framework version is required!
        </mat-error> -->
        </mat-form-field>
      </div>
      <div>
        <button mat-raised-button color="warn">
          Add Hobby
        </button>
      </div>
    </div>
    <button class="sub" mat-raised-button color="primary">
      Submit
    </button>
  </form>
</div>
